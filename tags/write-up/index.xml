<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Write-Up on Terminal</title><link>/tags/write-up/</link><description>Recent content in Write-Up on Terminal</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sat, 23 Nov 2024 20:15:04 +0800</lastBuildDate><atom:link href="/tags/write-up/index.xml" rel="self" type="application/rss+xml"/><item><title>[Write Up]Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data</title><link>/posts/sql-injection-lab-retrieve-hidden-data/</link><pubDate>Sat, 23 Nov 2024 20:15:04 +0800</pubDate><guid>/posts/sql-injection-lab-retrieve-hidden-data/</guid><description>Lab description Solution 点击Refine your search:时，观察url的变化，例如点击Corporate gifts时，url为/filter?category=Corporate+gifts 根据描述中的SQL query得知，category的参数值将透传给SQL category的比较值；但是SQL query中在后续还有查询条件AND released = 1，所以使用category的参数值影响SQL query，将后续的查询条件去除，为破题所在 尝试在url后面+or+1=1--进行查询，根据页面回显，发现SQL query没有闭合，所以SQL query没有受到影响 新增单引号'将SQL query闭合，完整url为filter?category=Corporate+gifts'+or+1=1--，发送请求后，即可看到全部的商品</description><content>&lt;h2 id="lab-description">Lab description&lt;/h2>
&lt;p>&lt;img alt="Lab description" src="/img/sql-injection-lab-retrieve-hidden-data-1.jpg">&lt;/p>
&lt;h2 id="solution">Solution&lt;/h2>
&lt;ol>
&lt;li>点击&lt;code>Refine your search:&lt;/code>时，观察url的变化，例如点击&lt;code>Corporate gifts&lt;/code>时，url为&lt;code>/filter?category=Corporate+gifts&lt;/code>&lt;/li>
&lt;li>根据描述中的SQL query得知，&lt;code>category&lt;/code>的参数值将透传给SQL category的比较值；但是SQL query中在后续还有查询条件&lt;code>AND released = 1&lt;/code>，所以使用&lt;code>category&lt;/code>的参数值影响SQL query，将后续的查询条件去除，为破题所在&lt;/li>
&lt;li>尝试在url后面&lt;code>+or+1=1--&lt;/code>进行查询，根据页面回显，发现SQL query没有闭合，所以SQL query没有受到影响
&lt;img alt="url-1" src="/img/sql-injection-lab-retrieve-hidden-data-2.jpg">&lt;/li>
&lt;li>新增单引号&lt;code>'&lt;/code>将SQL query闭合，完整url为&lt;code>filter?category=Corporate+gifts'+or+1=1--&lt;/code>，发送请求后，即可看到全部的商品
&lt;img alt="url-2" src="/img/sql-injection-lab-retrieve-hidden-data-3.jpg">&lt;/li>
&lt;/ol></content></item></channel></rss>